<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css" type="text/css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Georgia" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css" type="text/css" />
<style>code, pre, tt, kbd, samp, .w3-code, .w3-codespan { font-family: Monaco, Lucida Console, Roboto Mono, Ubuntu Mono, monospace; }math { font-family: Euler Math; }html, body, h1, h2, h3, h4, h5, h6 { font-family: Georgia, Lucida Sans, Times New Roman, serif; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/scheme.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/mathematica.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/ocaml.min.js"></script>
<script>hljs.highlightAll();</script>
<title>bootstrap-sut</title></head>
<body class="w3-content" style="max-width:61.8%">
<header class="w3-container w3-center">
<h1><b>bootstrap-sut</b></h1>
<p></p><small><small>
<p>Tue Aug 19 13:46:45+0200 2025</p></small><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" /></a><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://mirrors.creativecommons.org/presskit/icons/by.svg" /></a><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg" /></a>
<p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a></p></small></header>
<div class="w3-container">
<header><b>Table of contents</b></header>
<ol>
<li><a href="#section307"><code>test-running</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section308"><code>test-result</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section309"><code>test-failed</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section310"><code>test-unbound-variable</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section311"><code>test-failed-result</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section312"><code>test-suite</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section313"><code>test-⊨</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section314"><code>test-⊭</code>: <span class="w3-text-green">pass</span></a></li>
<li><a href="#section315"><code>test-should-signal</code>: <span class="w3-text-green">pass</span></a></li></ol></div>
<hr />
<p><b>Tests summary</b>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((ran 9) (failed 0))
</code></pre></div></p>
<p>This test suite drove the implementation of the unittest framework itself.</p>
<code/scheme-file>../unittest.scm</code/scheme-file>
<section id="section307">
<header>
<h1>1. <code>test-running</code>: <span class="w3-text-green">pass</span></h1></header></section>
<p>hello</p>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-running tc t r)
  (⊦= '() (unittest/testcase-log t))
  (unittest/testcase-run t r wasrun-sut)
  (⊦= '(teardown test-method setup) (unittest/testcase-log t)))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.001) (memory #(6291456 953272 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section308">
<header>
<h1>2. <code>test-result</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-result tc t r)
  (unittest/testcase-run t r wasrun-sut)
  (⊦= '((ran 1) (failed 0)) (unittest/result-summary r)))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.0) (memory #(6291456 954256 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section309">
<header>
<h1>3. <code>test-failed</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-failed tc _ r)
  (lettest
    ((t 'test-broken))
    (unittest/testcase-run t r wasrun-sut)
    (⊦= '((ran 1) (failed 1 (test-broken (expected useless) (got _))))
          (unittest/result-summary r))))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.0) (memory #(6291456 955128 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section310">
<header>
<h1>4. <code>test-unbound-variable</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-unbound-variable tc _ r)
  (lettest
    ((t 'test-unbound-variable))
    (unittest/testcase-run t r wasrun-sut)
    (⊦= '((ran 1)
            (failed
              1
              (test-unbound-variable
                &quot;\nError: unbound variable: unbound-v\n&quot;)))
          (unittest/result-summary r))))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.001) (memory #(6291456 955880 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section311">
<header>
<h1>5. <code>test-failed-result</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-failed-result tc _ r)
  (unittest/result-started! r)
  (unittest/result-failed! r 'no-reason)
  (⊦= '((ran 1) (failed 1 no-reason)) (unittest/result-summary r)))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.0) (memory #(6291456 956168 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section312">
<header>
<h1>6. <code>test-suite</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-suite tc _ r)
  (letsuite
    ((suite '(test-running test-failed)))
    (unittest/testsuite-run suite r bootstrap-sut)
    (⊦= '((ran 2) (failed 0)) (unittest/result-summary r))))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.002) (memory #(6291456 957200 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section313">
<header>
<h1>7. <code>test-⊨</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-⊨ tc _ _) (⊨ #t))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.0) (memory #(6291456 957872 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section314">
<header>
<h1>8. <code>test-⊭</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-⊭ tc _ _) (⊭ #f))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.0) (memory #(6291456 958656 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div>
<section id="section315">
<header>
<h1>9. <code>test-should-signal</code>: <span class="w3-text-green">pass</span></h1></header></section>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">(define (test-should-signal tc _ _)
  (⊦⧳ ((exn)) (signal (condition '(exn message &quot;useless&quot;))))
  (⊦⧳ ((exn-a)) (signal (condition '(exn-a message &quot;useless&quot;))))
  (⊦⧳ ((exn) (exn-a)) (signal (condition '(exn-a message &quot;useless&quot;))))
  (condition-case
    (⊦⧳ ((exn)) (signal (condition '(exn-a message &quot;useless&quot;))))
    ((exn-a) (void)))
  (condition-case (⊦⧳ ((exn)) (signal 99)) (() (void)))
  (⊦⧳ () 99))
</code></pre></div>
<div class="w3-card w3-round">
<header class="w3-container w3-border w3-round w3-light-gray w3-right">scheme code</header>
<pre class="w3-container"><code class="w3-code w3-round language-scheme">((eta 0.0) (memory #(6291456 961240 1048576)) (stdout &quot;&quot;) (stderr &quot;&quot;))
</code></pre></div></body></html>